{% extends 'base.html' %}
{% block title %}
Finance Dashboard
{% endblock %}
{% block style %}
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
    
{% endblock %}
{% block content %}
<!-- <body class="container mt-4"> -->
    <div class="row text-center">
        <div class="col-md-3 bg-light p-3 border rounded">
            <h5>Total Income</h5>
            <h4>₹{{ "%.2f"|format(total_income) }}</h4>
        </div>
        <div class="col-md-3 bg-light p-3 border rounded">
            <h5>Total Expenses</h5>
            <h4>₹{{ "%.2f"|format(total_expense) }}</h4>
        </div>
        <div class="col-md-3 bg-light p-3 border rounded">
            <h5>Total Balance</h5>
            <h4>₹{{ "%.2f"|format(total_income - total_expense) }}</h4>
        </div>
        <div class="col-md-3 bg-light p-3 border rounded">
            <h5>Total Transactions</h5>
            <h4>{{ total_transactions }}</h4>
        </div>
    </div>

    <div class="row mt-4">
        <div class="col-md-8">
            <canvas class="h-100" id="incomeChart"></canvas>
        </div>
        <div class="col-md-4">
        <div >
            <h5>Saving Goals</h5>
            <div class="progress mb-2  h-25">
                <div class="progress-bar" style="width: 75%;">Car</div>
            </div>
            <div class="progress mb-2  h-25">
                <div class="progress-bar bg-warning" style="width: 20%;">Gold</div>
            </div>
            <div class="progress mb-2 h-25">
                <div class="progress-bar bg-info" style="width: 45%;">Wedding</div>
            </div>
        </div>
        <div class="mt-4" >
            <h5 class="mt-4">Distribution</h5>
            <canvas class="h-80 w-80 text-center" id="distributionChart"></canvas>
        </div>
    </div>
    </div>



    <script>

        
        const ctx1 = document.getElementById('incomeChart').getContext('2d');
        new Chart(ctx1, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May'],
                datasets: [{
                    label: 'Product One',
                    data: [10, 20, 30, 40, 50],
                    borderColor: 'blue',
                    fill: false
                }, {
                    label: 'Product Two',
                    data: [15, 25, 35, 45, 55],
                    borderColor: 'red',
                    fill: false
                }]
            }
        });

        const ctx2 = document.getElementById('distributionChart').getContext('2d');
        new Chart(ctx2, {
            type: 'doughnut',
            data: {
                labels: ['Income', 'Expenses'],
                datasets: [{
                    data: [60, 40],
                    backgroundColor: ['green', 'red']
                }]
            }
        });
    </script>
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- </body> -->
{% endblock %}
